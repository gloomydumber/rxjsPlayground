# Lesson 5 - Scheduler

*ReactiveX*ì˜ ìš”ì†Œë“¤ì€ ì‚¬ìš©ë˜ëŠ” ì–¸ì–´ë§ˆë‹¤ í˜•íƒœì™€ ì‚¬ìš©ë²•ì— ìˆì–´ ë‹¤ì†Œ ì°¨ì´ê°€ ìˆë‹¤

ê·¸ì¤‘ì—ì„œë„ `Scheduler`ëŠ” *ìŠ¤ë ˆë“œ*ì— ê´€ë ¨ëœ ê²ƒì¸ ë§Œí¼, ì–¸ì–´ë‚˜ í™˜ê²½ë§ˆë‹¤ ì‚¬ìš©ë²•ì„ ë”°ë¡œ ê³µë¶€í•´ì•¼ í•  ìƒì„¸ ë¶€ë¶„ì—ì„œ ì°¨ì´ê°€ í¬ê¸° ë–„ë¬¸ì— í•„ìš”ì‹œ ë‚´ìš©ë“¤ì„ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡ ì˜ìƒì´ ì•„ë‹Œ í˜ì´ì§€ ê²Œì‹œë¬¼ë¡œ ë”°ë¡œ ì •ë¦¬

## Scheduler

`Scheduler`ë¥¼ ê°„ë‹¨íˆ ì„¤ëª…í•˜ìë©´ *Observableì´ë‚˜ Operator, Subscriberê°€ ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œ ì–´ëŠ ìŠ¤ë ˆë“œìƒì— ì‹¤í–‰ë ì§€*ë¥¼ ì •í•˜ëŠ” ê²ƒì´ë‹¤

- ğŸš€\_ ì§€ê¸ˆ ë­ê°€ ì§„í–‰ë˜ê³  ìˆë“  ì´ ì‘ì—…ì„ ì§€ê¸ˆ ë‹¹ì¥ ì‹¤í–‰í•´ë²„ë¦´ì§€
- ğŸ‡\_ í˜„ì¬ ì§„í–‰ë˜ê³  ìˆëŠ” ì‘ì€ ì‘ì—…ì„ ë§ˆì¹˜ëŠ”ëŒ€ë¡œ ìµœëŒ€í•œ ë¹¨ë¦¬ ì‹¤í–‰í• ì§€
- ğŸŒ\_ ëŠê¸‹í•˜ê²Œ ë§¨ ë’¤ë¡œ ë°€ì–´ì„œ, í•˜ê³  ìˆëŠ” ì¼ë“¤ì„ ë‹¤ ë§ˆì¹˜ê³  ì‹¤í–‰í• ì§€
- â°\_ íŠ¹ì • ì‹œê°„ì„ ì •í•´ì„œ ë•Œê°€ ë˜ë©´ ì‹¤í–‰í• ì§€

ì´ëŸ° ê²ƒë“¤ì„ ì •í•´ì£¼ëŠ” ê²ƒì´ `Scheduler`ì´ë‹¤

ì§€ì •í•  ìˆ˜ ìˆëŠ” `Scheduler`ì˜ ì¢…ë¥˜ëŠ” ì–¸ì–´ë§ˆë‹¤ì˜ ìŠ¤ë ˆë”© í™˜ê²½ì— ë”°ë¼ ë‹¤ë¥´ë‹¤

_ReactiveX_ ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œ ì–¸ì–´ë³„ ëª…ì„¸ë¥¼ í¼ì³ë³´ë©´ _RxJava_ ë“±ê³¼ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥í•œ `Scheduler`ì™€ ìì„¸í•œ ì„¤ëª…ì´ ê¸°ì¬ëœ ê²ƒë“¤ë„ ìˆì§€ë§Œ _RxKotlin_ ë“±ê³¼ ê°™ì´ _TBD (To Be Determined)_ ìƒíƒœë¡œ ì¶”í›„ì— ì‘ì„±í•  ê²ƒì„ ì˜ˆê³ í•œ ìƒíƒœì— ë¨¸ë¬¼ëŸ¬ ìˆëŠ” ê²ƒë“¤ë„ ìˆë‹¤

í›„ìì˜ ê²½ìš° ê°ê°ì˜ ë„íë¨¼íŠ¸ë¥¼ ë”°ë¡œ ê²€ìƒ‰í•´ë³´ëŠ” ìˆ˜ê³ ê°€ í•„ìš”í•˜ë‹¤

*ReactiveX*ì˜ ì—°ì‚°ìë“¤ì€ ê°ê° ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì •ëœ `Scheduler`(`Scheduler ì—†ìŒ` í¬í•¨)ê°€ ìˆë‹¤

_ReactiveX_ ê³µì‹ í™ˆí˜ì´ì§€ì˜ *ì–¸ì–´ë³„ ëª…ì„¸*ì—ì„œ *RxJava*ë€ì„ í¼ì³ë³´ë©´ ì—°ì‚°ìë“¤ì— ê°ê°ì˜ íŠ¹ì„±ì— ì í•©í•œ `Scheduler`ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ë¶€ì—¬ë˜ì–´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤

ì˜ˆë¥¼ë“¤ì–´,

- `debounce`ì²˜ëŸ¼ ì½œë°±ì´ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëŒì•„ ì§€ì—° ì²˜ë¦¬ë˜ëŠ” ì—°ì‚°ìëŠ” `computation`
- `timestamp`ë‚˜ `timeInterval`ì²˜ëŸ¼ ë°œí–‰ ì¦‰ì‹œ êµ¬ë…ìì—ê²Œ ë„˜ê²¨ì§€ëŠ” ì—°ì‚°ìëŠ” `immediate`
- `repeat`ì²˜ëŸ¼ ëŒ€ê¸°ì¤‘ì¸ íê°€ ë‹¤ ì²˜ë¦¬ëœ ë‹¤ìŒ ì‹¤í–‰ë˜ëŠ” ì—°ì‚°ìì—ëŠ” `trampoline`

ìœ„ì™€ ê°™ì´ ë¶€ì—¬ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ (ìœ— ë¶€ë¶„ì— ê°ê°ì— ëŒ€í•œ ì„¤ëª…ì´ ìˆë‹¤)

*Rxjs*ì˜ ê²½ìš° [ì´ í˜ì´ì§€](https://rxjs.dev/guide/scheduler)ì—ì„œ ê° `Scheduler`ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

| Rxjsìš© ìŠ¤ì¼€ì¥´ëŸ¬         | ì„¤ëª…                                                                                                           |
| :---------------------- | :------------------------------------------------------------------------------------------------------------- |
| null                    | ìŠ¤ì¼€ì¤„ëŸ¬ ì—†ìŒ. ë™ê¸°ì ìœ¼ë¡œ ë˜ëŠ” ì¬ê·€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì—°ì‚°ìì— ì´ìš©                                               |
| queueScheduler          | ìƒˆ ì‘ì—…ì„ í˜„ì¬ì˜ ì‘ì—…(task) ëŒ€ê¸°ì¤„ ë§¨ ëì— ì„¸ì›€. ë°˜ë³µ ì—°ì‚°ìì— ì‚¬ìš©                                            |
| asapScheduler           | Promiseì— ì‚¬ìš©ë˜ëŠ” ê²ƒê³¼ ë™ì¼ - í˜„ ì†Œì‘ì—…(microtask)ì´ ëë‚˜ê³  ê·¸ ë‹¤ìŒ ì†Œì‘ì—…ì„ í•˜ê¸° ì „ ì‹¤í–‰. ë¹„ë™ê¸° ì‘ì—…ì— ì‚¬ìš© |
| asyncScheduler          | setIntervalê³¼ í•¨ê»˜ ì‚¬ìš©ë¨. ì‹œê°„ ê´€ë ¨ ì—°ì‚°ìì— ì‚¬ìš©                                                             |
| animationFrameScheduler | ë¸Œë¼ìš°ì €ê°€ ë‚´ìš©ì„ ìƒˆë¡œ ê·¸ë¦¬ê¸°(repaint) ì „ ì‹¤í–‰ë¨. ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ ì‚¬ìš©                              |

ì´ëŸ¬í•œ `Scheduler`ë“¤ì„ íŒŒì´í”„ì— ì ìš©í•˜ê¸° ìœ„í•´ ì–¸ì–´ë“¤ë§ˆë‹¤ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì—°ì‚°ìë“¤ì„ ì•„ë˜ ë‘˜ì´ ìˆë‹¤

| ì—°ì‚°ì      | ì„¤ëª…                                                    |
| :---------- | :------------------------------------------------------ |
| SubscribeOn | ì˜µì €ë²„ë¸” ë˜ëŠ” ì´ë¥¼ ì²˜ë¦¬í•  ì—°ì‚°ìë¥¼ ì‹¤í–‰í•  ìŠ¤ì¼€ì¤„ëŸ¬ ì§€ì • |
| ObserverOn  | êµ¬ë…ìì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚¼ ë•Œ ì‚¬ìš©í•  ìŠ¤ì¼€ì¤„ëŸ¬ ì§€ì •          |

## Examples

```javascript
const { of, asyncScheduler } = require("rxjs");
const { subscribeOn, observeOn, tap } = require("rxjs/operators");

const tapper = (x) => console.log(`${x} IN`);
const observer = (x) => console.log(`${x} OUT`);

of(1, 2, 3).pipe(tap(tapper), subscribeOn(asyncScheduler)).subscribe(observer);

of(4, 5, 6).pipe(tap(tapper)).subscribe(observer);

of("A", "B", "C")
  .pipe(tap(tapper), observeOn(asyncScheduler))
  .subscribe(observer);

of("D", "E", "F").pipe(tap(tapper)).subscribe(observer);
```

ìœ„ì˜ ì˜ˆì œì—ì„œ ìˆ«ì 1, 2, 3ì„ ë°œí–‰í•˜ëŠ” `Stream`ê³¼ ë¬¸ì 'A', 'B', 'C'ë¥¼ ë°œí–‰í•˜ëŠ” `Stream`ì—, ê° ë°œí–‰ë¬¼ì„ í˜„ì¬ì˜ ë§ˆì´í¬ë¡œí…ŒìŠ¤í¬ ë‹¤ìŒì— ë°œí–‰í•˜ë„ë¡ í•˜ëŠ” `asyncScheduler`ë¥¼ ì ìš©í•¨

ë•Œë¬¸ì— ê°ê°ì€ 4, 5, 6ê³¼ 'D', 'E', 'F' ë³´ë‹¤ ë‹¤ìŒì— ë‚˜ì˜´

ì°¨ì´ê°€ ìˆë‹¤ë©´, 1, 2, 3ì€ `subscribeOn`ì„ ì¨ì„œ êµ¬ë…, ì¦‰ ì˜µì €ë²„ë¸”ì´ë‚˜ ì—°ì‚°ìê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ë¶€í„° í•´ë‹¹ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì§€ì •í–ˆë‹¤

ê·¸ë¦¬ê³ , 'A', 'B', 'C'ëŠ” `observeOn`ì„ ì‚¬ìš©í•´ì„œ ì´ë“¤ì´ êµ¬ë…ìì—ê²Œ ì „ë‹¬ë˜ëŠ” ì‹œì ë§Œ asyncë¡œ ë™ì‘í•˜ë„ë¡ í–ˆë‹¤

ë•Œë¬¸ì— ì „ìëŠ” tap('~IN')ë˜ëŠ” ë™ì‘ê¹Œì§€ ëª¨ë‘ 4, 5, 6 ë³´ë‹¤ ëŠ¦ê²Œ ë‚˜ì˜¨ ë°˜ë©´, í›„ìëŠ” tap ë¶€ë¶„ì€ ë¨¼ì € ì¶œë ¥ë˜ê³  subscribe('~ OUT') ë˜ëŠ” ë¶€ë¶„ë§Œ 'D', 'E', 'F' ë³´ë‹¤ ë‚˜ì¤‘ì— ì¶œë ¥ëœ ê²ƒì´ë‹¤

## References

[ğŸ”— ReactiveX ê³µì‹ ë¬¸ì„œ - Scheduler](https://reactivex.io/documentation/ko/scheduler.html)

[ğŸ”— rxjs ê³µì‹ ë¬¸ì„œ - Scheduler](https://rxjs.dev/guide/scheduler)
